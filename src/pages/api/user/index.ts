import type { NextApiRequest, NextApiResponse } from "next";
import { firebaseAdminAuth } from "../../../lib/data/firebase-admin";

const token =
  "eyJhbGciOiJSUzI1NiIsImtpZCI6IjJkM2E0YTllYjY0OTk0YzUxM2YyYzhlMGMwMTY1MzEzN2U5NTg3Y2EiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiU3VraGRlZXAgU2luZ2giLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0ZC1Jb1lPTmlCeFl2TXBjMUdYeDBhNFlxbTJBVkVIZ0k1UWZjRzZtUT1zOTYtYyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9iYW1ib296bGUtMzU5MjE4IiwiYXVkIjoiYmFtYm9vemxlLTM1OTIxOCIsImF1dGhfdGltZSI6MTY4NTkwOTE5NSwidXNlcl9pZCI6InFESjlZUmJNWWZaZGxnNjZzZ3ZGbWxOeTFWNTMiLCJzdWIiOiJxREo5WVJiTVlmWmRsZzY2c2d2Rm1sTnkxVjUzIiwiaWF0IjoxNjg1OTA5MTk1LCJleHAiOjE2ODU5MTI3OTUsImVtYWlsIjoic3VraGR4eHBAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMDc1MjcyMDE3OTk5OTM0OTUzMTkiXSwiZW1haWwiOlsic3VraGR4eHBAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.MLNhdZdGt3Qagg17zPczdJoB9zon4rHk2eAIw1rlvVOIAqzoLIbyg9QIZk7edijwSdG3TM4LH3A3eIZ9Nds2mwxexR5VgDHbxdkvxcqlDRpSfM-50iToeQW51_WJpe2qtOJu0S5GmKF59OCRo9gfC9WiDDfZsg_u7n68VQz8P9Pg9pwJtAZuVjwxi_bC6v-G3K5i6niDVL1sgz09byNRqqTqf6RlBqxbfYrEXWSrvScLBvnBlfaypA-EJslJxIrW7LV6fZA7mtGZW4Mt8EoZDTGDrprbD6Suec6Z8ZOPAegDEaECI0MKTXeBO48AyF7p6RfBzMqt9kDnShIudl-PgA";
export default async function handler(
  req: NextApiRequest,
  res: NextApiResponse
) {
  const decodedToken = await firebaseAdminAuth.verifyIdToken(token);
  res.status(200).json(decodedToken);
}
